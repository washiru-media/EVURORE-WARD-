<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MBEERE EPOLITICS | Evurore Ward MCA Polls</title>  <!-- Fonts & Icons -->  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>  <style>
    :root{
      --gold:#d4af37;
      --deep-green:#0b3d2e;
      --red:#b11226;
      --black:#0f0f0f;
      --white:#ffffff;
      --gray:#f4f4f4;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Poppins',sans-serif;
      background:linear-gradient(135deg,var(--black),var(--deep-green));
      color:var(--white);
      min-height:100vh;
    }

    header{
      text-align:center;
      padding:30px 15px;
      background:linear-gradient(90deg,var(--black),var(--red),var(--deep-green));
      border-bottom:2px solid var(--gold);
    }

    header h1{
      font-family:'Playfair Display',serif;
      font-size:2.2rem;
      letter-spacing:2px;
      color:var(--gold);
    }

    header p{
      margin-top:8px;
      font-size:0.95rem;
      opacity:0.9;
    }

    .container{
      max-width:1100px;
      margin:30px auto;
      padding:20px;
    }

    .poll-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:20px;
    }

    .card{
      background:rgba(255,255,255,0.05);
      border:1px solid rgba(212,175,55,0.3);
      border-radius:16px;
      padding:20px;
      text-align:center;
      box-shadow:0 10px 25px rgba(0,0,0,0.4);
      transition:transform .3s ease, box-shadow .3s ease;
    }

    .card:hover{
      transform:translateY(-6px);
      box-shadow:0 20px 40px rgba(0,0,0,0.6);
    }

    .card h3{
      font-family:'Playfair Display',serif;
      font-size:1.1rem;
      margin-bottom:12px;
      color:var(--gold);
    }

    .card button{
      padding:10px 18px;
      border:none;
      border-radius:30px;
      cursor:pointer;
      font-weight:600;
      background:linear-gradient(135deg,var(--gold),#f5d76e);
      color:#000;
      transition:opacity .3s ease, transform .2s ease;
    }

    .card button:hover{opacity:.9;transform:scale(1.05)}

    .results{
      margin-top:40px;
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:30px;
    }

    @media(max-width:800px){.results{grid-template-columns:1fr}}

    .panel{
      background:rgba(255,255,255,0.05);
      border-radius:16px;
      padding:20px;
      border:1px solid rgba(212,175,55,0.25);
    }

    .panel h2{
      font-family:'Playfair Display',serif;
      margin-bottom:15px;
      color:var(--gold);
      text-align:center;
    }

    .ranking li{
      list-style:none;
      margin:10px 0;
      padding:10px;
      background:rgba(0,0,0,0.35);
      border-radius:10px;
      display:flex;
      justify-content:space-between;
    }

    .actions{
      margin-top:30px;
      display:flex;
      flex-wrap:wrap;
      gap:15px;
      justify-content:center;
    }

    .actions a, .actions button{
      padding:12px 22px;
      border-radius:30px;
      border:none;
      cursor:pointer;
      font-weight:600;
      text-decoration:none;
      color:#000;
      background:linear-gradient(135deg,var(--gold),#f5d76e);
    }

    /* Admin */
    .admin{
      margin-top:50px;
      padding:20px;
      background:rgba(0,0,0,0.4);
      border-radius:16px;
      border:1px dashed var(--gold);
    }

    .admin h3{color:var(--gold);margin-bottom:10px}
    .admin input{
      padding:10px;
      border-radius:8px;
      border:none;
      margin-right:10px;
    }

    footer{
      text-align:center;
      padding:20px;
      margin-top:40px;
      font-size:0.85rem;
      opacity:0.8;
    }
  </style></head>
<body><header>
  <h1>MBEERE NORTH POLITICS</h1>
  <p>Evurore Ward • MCA Live Opinion Poll</p>
</header><div class="container">  <!-- POLL -->  <div class="poll-grid" id="poll"></div>  <!-- RESULTS -->  <div class="results">
    <div class="panel">
      <h2>Live Rankings (%)</h2>
      <ul class="ranking" id="ranking"></ul>
    </div>
    <div class="panel">
      <h2>Graphic Representation</h2>
      <canvas id="chart"></canvas>
    </div>
  </div>  <!-- ACTIONS -->  <div class="actions">
    <a href="https://www.facebook.com/sharer/sharer.php?u=" target="_blank">Share on Facebook</a>
    <a href="https://wa.me/?text=MBEERE%20EPOLITICS%20Evurore%20Ward%20MCA%20Live%20Poll" target="_blank">Share on WhatsApp</a>
    <button onclick="alert('Support civic engagement via M-Pesa Till: 5827051')">Donate (Till 5827051)</button>
  </div>  <!-- ADMIN -->  <div class="admin">
    <h3>Admin Dashboard</h3>
    <input type="password" id="adminPass" placeholder="Admin password" />
    <button onclick="adminLogin()">Login</button>
    <button onclick="resetVotes()">Reset Voting</button>
    <button onclick="adminLogout()">Logout</button>
  </div></div><footer>
  © 2026 WASHIRU MEDIA 0724253280 • Mbeere North Political Polls
</footer><script>
  const candidates = [
    'Hon Albert Kigoro',
    'Hon Mukangu Junior',
    'Hon Catherine',
    'Hon John wa Kigooco',
    'Hon Mukui Mate',
    'Undecided'
  ];

  let votes = JSON.parse(localStorage.getItem('votes')) || Object.fromEntries(candidates.map(c=>[c,0]));
  let hasVoted = localStorage.getItem('hasVoted');
  let isAdmin = false;

  const pollDiv = document.getElementById('poll');
  const rankingUl = document.getElementById('ranking');

  function renderPoll(){
    pollDiv.innerHTML='';
    candidates.forEach(c=>{
      const card=document.createElement('div');
      card.className='card';
      card.innerHTML=`<h3>${c}</h3><button ${hasVoted?'disabled':''} onclick="vote('${c}')">Vote</button>`;
      pollDiv.appendChild(card);
    });
  }

  function vote(name){
    if(hasVoted) return alert('You have already voted from this device.');
    votes[name]++;
    localStorage.setItem('votes',JSON.stringify(votes));
    localStorage.setItem('hasVoted','true');
    hasVoted=true;
    updateResults();
    renderPoll();
  }

  function updateResults(){
    const total = Object.values(votes).reduce((a,b)=>a+b,0)||1;
    rankingUl.innerHTML='';
    Object.entries(votes)
      .sort((a,b)=>b[1]-a[1])
      .forEach(([name,count])=>{
        const li=document.createElement('li');
        li.innerHTML=`<span>${name}</span><strong>${((count/total)*100).toFixed(1)}%</strong>`;
        rankingUl.appendChild(li);
      });
    drawChart();
  }

  let chart;
  function drawChart(){
    const ctx=document.getElementById('chart');
    if(chart) chart.destroy();
    chart=new Chart(ctx,{
      type:'doughnut',
      data:{
        labels:Object.keys(votes),
        datasets:[{
          data:Object.values(votes),
          backgroundColor:['#d4af37','#b11226','#0b3d2e','#222','#555','#999']
        }]
      },
      options:{plugins:{legend:{labels:{color:'#fff'}}}}
    });
  }

  function adminLogin(){
    const pass=document.getElementById('adminPass').value;
    if(pass==='admin123'){isAdmin=true;alert('Admin logged in');}
    else alert('Wrong password');
  }

  function adminLogout(){isAdmin=false;alert('Admin logged out');}

  function resetVotes(){
    if(!isAdmin) return alert('Admin access required');
    votes=Object.fromEntries(candidates.map(c=>[c,0]));
    localStorage.removeItem('hasVoted');
    localStorage.setItem('votes',JSON.stringify(votes));
    hasVoted=false;
    updateResults();
    renderPoll();
  }

  renderPoll();
  updateResults();
</script></body>
</html>